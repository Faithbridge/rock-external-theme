{#

{% set heroData = { 
    title: "",
    copy: "",
    grayscale: '',
    imageUrl: '',
    backgroundVideoUrl: '',
    backgroundOpacity: '',
    textColorClass: '',
    backgroundColorHex:'',
    linkUrl: '',
    linkText: '',
    linkClasses: '',
    videoId: ''
} %}{% include "partials/hero.html" %}

#}

<!-- Hero -->
<section class="
bg-secondary
relative 
rounded 
shadowed 
text-white 
push-bottom
xs-push-half-bottom

{% if heroData.backgroundVideoUrl or heroData.imageUrl %}
{% else %}
    soft-double-top soft-bottom
{% endif %} 

" style="
{% if heroData.backgroundColorHex %}
    background-color: #{{ heroData.backgroundColorHex }};
{% elif pageBackgroundColor %}
    background-color: #{{ pageBackgroundColor }};
{% endif %}">

	{% if heroData.backgroundVideoUrl %}

        <!-- Background Video -->
		<video class="video rounded hidden-xs hidden-sm {% if heroData.grayscale == 'y' %}grayscale{% endif %}" style="display: block; position: absolute; object-fit: cover; min-width: 100%; min-height: 100%; width: 100%; height: 100%; top: 0px; bottom: 0px; left: 0px; right: 0px; opacity: {{ heroData.backgroundOpacity }};" width="1280" height="720" loop="" autoplay="">
			<source src="{{ heroData.backgroundVideoUrl }}.mp4" type="video/mp4">
			<source src="{{ heroData.backgroundVideoUrl }}.webm" type="video/webm">
		</video>

    {% endif %}
	
	<!-- Background Image -->
	{% if heroData.imageUrl %}
    	<span class="full-screen background-cover background-center rounded {% if heroData.backgroundVideoUrl %}hidden-md hidden-lg{% endif %} {% if heroData.grayscale == 'y' %}grayscale{% endif %}" style="background-image: url('{{ heroData.imageUrl }}'); {% if heroData.backgroundOpacity %}opacity: {{ heroData.backgroundOpacity }};{% endif %}"></span>
    {% endif %}

    <div class="bring-forward center-block text-constrained text-center soft-ends">

        {% if heroData.imageOverlayUrl %}
            <img src="{{ heroData.imageOverlayUrl }}" alt="" class="push-bottom" style="width: 80%; max-width: 300px;">
        {% endif %}

		<span class="{% if heroData.textColorClass %}{{ heroData.textColorClass }}{% else %}text-white{% endif %}">

			{% if heroData.title %}
        		<h1>{{ heroData.title }}</h1>
        	{% endif %}

        	{{ heroData.copy | safe }}

        </span>


        {% if heroData.linkUrl %}
	        <p>
	        	<a href="{{ heroData.linkUrl }}" class="{% if heroData.linkClasses %}{{ heroData.linkClasses }}{% else %}btn btn-primary{% endif %}">
	        		{% if heroData.linkText %}{{ heroData.linkText }}{% else %}Learn More{% endif %}
	        	</a>
	        </p>
        {% endif %}

    </div>

    {% if heroData.videoId %}
        <div class="btn btn-play text-white shadowed">
            <span class="wistia_embed wistia_async_{{ heroData.videoId }} popover=true popoverContent=link" style="display:inline;position:relative">
                <i class="fas fa-fw fa-lg fa-play"></i>
            </span>
        </div>

        <script src="https://fast.wistia.com/embed/medias/{{ heroData.videoId }}.jsonp" async></script>
        <script src="https://fast.wistia.com/assets/external/E-v1.js" async></script>
    {% endif %}

</section>