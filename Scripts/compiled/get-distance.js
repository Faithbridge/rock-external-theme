document.addEventListener("DOMContentLoaded",function(){function t(e){var q,N,t=new google.maps.Geocoder,a=document.querySelectorAll(".display-miles");if(0<a.length)for(var o=0;o<a.length;o++)a[o].parentNode.removeChild(a[o]);t.geocode({address:e},function(e,t){t==google.maps.GeocoderStatus.OK&&(q=e[0].geometry.location.lat(),N=e[0].geometry.location.lng());for(var a=0;a<I;a++){var o=E[a],n=o.dataset.latlon;n=n.split(","),lat=n[0],lon=n[1];var l=(c=q,u=N,h=lat,m=lon,p="M",y=void 0,v=Math.PI*c/180,f=Math.PI*h/180,g=u-m,M=Math.PI*g/180,1<(y=Math.sin(v)*Math.sin(f)+Math.cos(v)*Math.cos(f)*Math.cos(M))&&(y=1),y=60*(y=180*(y=Math.acos(y))/Math.PI)*1.1515,"K"==p&&(y*=1.609344),"N"==p&&(y*=.8684),y);l=Math.round(10*l)/10,o.setAttribute("data-distance",l);var r=o.querySelector("h2"),i=document.createElement("p");i.classList.add("display-miles","display-inline-block","label","label-info","push-half-bottom","sans-serif","circular"),i.innerHTML=l+" miles away",s=i,(d=r).parentNode.insertBefore(s,d.nextSibling)}var s,d,c,u,h,m,p,v,f,g,M,y,b=L.childNodes,S=[];for(var a in b)1==b[a].nodeType&&S.push(b[a]);for(S.sort(function(e,t){return e.dataset.distance==t.dataset.distance?0:Number(e.dataset.distance)>Number(t.dataset.distance)?1:-1}),a=0;a<S.length;++a)L.appendChild(S[a]);swiper.update(),swiper.slideTo(0,50,!1);var w=document.querySelector("#locations");scroll.animateScroll(w)})}var e,a,o,n,l=(e="location",o=a||window.location.href,(n=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(o))?n[1]:null);l&&t(l);var r=document.querySelector("[data-locations-search]"),L=document.querySelector("[data-locations]"),E=L.children,I=E.length;r.addEventListener("submit",function(e){e.preventDefault(),t(r.querySelector("input").value)})});